#include <print>
#include "big_num.hpp"
#include "big_num/basic_integer.hpp"
#include "big_num/division.hpp"

int main() {

    auto a = "911016768575536533841902127315322517331370996381693931076952263433242557062661859845232525528696502604568404956102379752578108949724149928400458918731118052710047275921887012082667777830430441063046002245564508251544929580580359659780701363177092265105039930228593545591430901754686958962504670895384999028998224585842686484860780017384341641466517229556163204166168823122014282160931443048567089986556934636258413985794419689717211131914046733519718352056616971139243575943388718723442206430082706998899334050916738760515818648697587327038652827691355376696859666686488446799938669633206005755425030897366725025833541734351814171851332040624271524888980509597576880617081352853536884570452295980014654246539254200821338073444343551023267595116922884185296065073204858550889775204943913369956987605817848935702078582467438696235477999022434092166378019326178821014032543971065454717339434366458923480102680368824810449174890698290205056142836598229286238299109976289451002638231047419923863613537364835449106608261870920272114546255607211665534796591784000939833865576588476375250568134306490264696812565669226143764741956347981627993073460724487359610744867963737205964388756405976544782765318639524341588667354664150422993137494796288210342288903039377212196330336742145501342896109702757005194355868222768993916539756244341793362593490364325319913603326945817073434864634938874623099767690738353006849876015867954476152230266574937105573059562773984920609911424517812415244311432776045137108212764056988131255971250885076364206458671117762322720449010157782570237834870584580791304234532990302688353569571311946658233895960165959908403942541729874546810206460659287956286531186624231749739740126828819016544872545386804895905212267597830656163099374283205842669957341651269932935627491762249060799048637646079467362421853641562568259453973984793786925010153994777924075666425114234482109037305623501950953360519920809935651139098592533709367022978672335995247530501786321311580563232023652543193102";

    auto b = "10000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000";

    auto lhs = dark::BigInteger(a);
    std::println(stderr, "Done Parsing lhs");
    auto rhs = dark::BigInteger(b);
    std::println(stderr, "=========\n\n");
    auto res = lhs.mul(rhs, dark::MulKind::ToomCook3);

    std::println("{} * {} = {}", lhs, rhs, res);

    auto t = lhs;
    std::println("Res: {:?}", t);

    std::println(stderr, "=========DIV=========\n\n");
    dark::BigInteger q, r;
    dark::internal::integer::recursive_div(res, rhs, q, r);
    std::println("Exact div: {:?}", q);

    return 0;
}
